# 2.4 基础学习笔记(Python 编码规范、Python 数据类型详解)

## 一、Python 编码规范（核心：可读性与协作）

Python 的编码规范主要遵循 **PEP 8**（Python Enhancement Proposal 8），是官方推荐的代码风格指南。规范不仅是“好看”，更是**团队协作的基石**——清晰的代码能让他人快速理解逻辑，减少沟通成本，也是职业素养的体现（正如 Python 之父所说：“代码主要是给人阅读的，只是顺便给机器执行”）。

###  PEP 8 核心要点详解

#### 1. 缩进

- **规则**：严格使用 **4 个空格** 缩进（不用制表符 Tab，除非团队明确要求）

- **为什么重要**：缩进定义了代码块（如函数、循环、条件语句的内容），错误缩进会直接导致语法错误

- 示例

  ```
  def greet(name):
      print(f"Hello, {name}!")  # 函数体内缩进4个空格
  ```

#### 2. 行长度

- **规则**：单行字符不超过 **79 个**（文档字符串或注释不超过72个）

- 过长处理

  - 优先用 **括号** 自动换行（可读性强）
  - 次选 **反斜杠 `\`** 换行（易出错，括号更推荐）

- 示例

  python

  ```
  # 括号换行（推荐）
  total = (very_long_variable + another_variable 
           + yet_another_variable)
  
  # 反斜杠换行（不推荐，括号更简洁）
  long_string = "这是很长的字符串..." \
                "换行继续"
  ```

#### 3. 命名规范

表格

| **类型**      | **命名方式**                    | **示例**                |
| :------------ | :------------------------------ | :---------------------- |
| 模块/包       | 全小写，无下划线                | `my_module.py`          |
| 函数/变量     | 小写 + 下划线分隔（snake_case） | `calculate_total`       |
| 类            | 驼峰式（CamelCase）             | `class MyClass:`        |
| 常量          | 全大写 + 下划线分隔             | `MAX_CONNECTIONS = 100` |
| 方法/实例属性 | 同函数/变量（snake_case）       | `def get_name(self):`   |

#### 4. 空行

- 顶层函数/类之间：**2 个空行**

- 类内方法之间：**1 个空行**

- 示例

  python

  ```
  def first_function():
      pass
  
  # 两个空行分隔顶层函数
  def second_function():
      pass
  
  class MyClass:
      def method1(self):
          pass
  
      # 一个空行分隔类内方法
      def method2(self):
          pass
  ```

#### 5. 注释与文档字符串

- 注释

  - 行注释：紧跟代码行后（空两格）或单独一行，用 `#` 开头
  - **原则**：解释“为什么这么写”，而非重复代码（如 `i += 1 # i 加 1` 是无效注释）

- 文档字符串（Docstring）

  - 用三引号 `""" ... """` 定义
  - 用于模块、函数、类、方法的说明，是代码的“官方文档”

  python

  ```
  def add(a, b):
      """返回 a 和 b 的和"""
      return a + b
  ```

#### 6. 运算符与空格

- 二元运算符（`+ - * /` 等）两边加 **1 个空格**

- 逗号后加 **1 个空格**

- 赋值/关键字参数不加空格（如 `x = 1` 而非 `x=1`）

- 示例

  python

  ```
  x = 1 + 2  # 运算符两侧加空格
  my_list = [1, 2, 3]  # 逗号后加空格
  ```

## 二、Python 数据类型详解

Python 数据类型分为 **简单类型（数值类型）** 和 **复合类型（容器类型）**。通过代码实践，你能快速理解不同数据类型的特性和运算逻辑。

###  1. 简单数据类型（数值类型）

用于表示单个值，包括：`int`（整数）、`float`（浮点数）、`bool`（布尔值）、`complex`（复数）。

#### (1) `int`（整数）

- **定义**：无小数部分的数（正整数、负整数、0）

- **运算**：加减乘除（`+ - * /`）、整数除法（`//`向下取整）、取模（`%`）、幂运算（`**`）

- 示例

  python

  ```
  a = 10
  b = 3
  
  print(a + b)   # 13
  print(a / b)   # 3.333...（结果为 float）
  print(a // b)  # 3（整数除法，向下取整）
  print(a % b)   # 1（余数）
  print(2 ** 3)  # 8（2 的 3 次方）
  ```

#### (2) `float`（浮点数）

- **定义**：带小数部分的数（如 `3.14`），或科学计数法（如 `1.2e3` 表示 `1200`）

- **注意**：浮点数存在精度问题（二进制无法精确表示某些十进制小数）

- 示例

  python

  ```
  c = 3.14
  d = 2.5
  
  print(c * d)        # 7.85
  print(0.1 + 0.2 == 0.3)  # False！精度问题（用 math.isclose() 比较）
  ```

#### (3) `bool`（布尔值）

- **定义**：只有两个值：`True`（真）和 `False`（假）（首字母大写！）

- **逻辑运算**：`and`（与）、`or`（或）、`not`（非）

- **比较运算**：`==`（等于）、`!=`（不等于）、`<`、`>`、`<=`、`>=`

- 示例

  python

  ```
  is_valid = True
  has_permission = False
  
  print(is_valid and has_permission)  # False
  print(not has_permission)           # True
  age = 18
  print(age >= 18)                    # True
  ```

#### (4) `complex`（复数）

- **定义**：由实部和虚部组成，虚部后加 `j` 或 `J`（如 `3 + 4j`）

- **运算**：加减乘除、取共轭（`.conjugate()`）、取实部（`.real`）、取虚部（`.imag`）

- 示例

  python

  ```
  c1 = 3 + 4j
  c2 = 1 - 2j
  
  print(c1 + c2)        # (4+2j)
  print(c1 * c2)        # (11-2j)
  print(c1.real)        # 3.0（实部，返回 float）
  print(c1.imag)        # 4.0（虚部，返回 float）
  print(c1.conjugate()) # (3-4j)（共轭复数）
  ```

###  2. 复合数据类型（容器类型）

用于存储多个值，包括：字符串（`str`）、列表（`list`）、元组（`tuple`）、字典（`dict`）、集合（`set`）。

#### (1) 字符串（`str`）

- **定义**：用单引号 `' '`、双引号 `" "` 或三引号 `""" """`（多行字符串）包裹的文本

- **特性**：**不可变**（不能修改单个字符，只能重新赋值整个字符串）

- 常见操作

  - 索引（从 `0` 开始，负数从末尾开始）
  - 切片（`[起始:结束:步长]`，左闭右开）
  - 连接（`+`）、重复（`*`）
  - 长度（`len()`）、查找（`in`、`find()`、`index()`）
  - 替换（`replace()`）、分割（`split()`）、大小写转换（`upper()`、`lower()`）

- 示例

  python

  ```
  str = "I love ai"
  str1 = "I love python "
  ——#输出字符——
  print(str[0])
  ——#输出部分字符串——
  print(str[1:4])
  print(str[1:])
  ——#合并字符串(不同)——
  str2 = str + str1
  print(str2)
  ——#合并相同字符串——
  str3 = str*2
  print(str3)
  ——#获取长度——
  str_len = len(str)
  print(len(str))
  ——#字符串查找——(in、find()、index())
  #1.find()
  pos = str.find("o")
  print(pos)
  #2.in
  if "love" in str:
      print("找到关键词love")
  #3.index()
  try:
      pos = str.index("love")
      print(f" 'love' 位置: {pos}")
  except ValueError:
      print("关键词缺失")
  ```

#### (2) 列表（`list`）

- **定义**：可变序列，用方括号 `[]`，元素逗号分隔（元素可为不同类型，可嵌套）

- **特性**：**可变**（可修改、增删元素）

- 常见操作

  - 索引、切片
  - 追加（`append()`）、插入（`insert()`）
  - 修改（直接赋值）、删除（`del`、`remove()`）
  - 长度（`len()`）、遍历（`for` 循环）

- 示例

  python

  ```
  my_list = [1, 2, 3, "Python", [4, 5]]
  
  my_list.append("new")   # 追加元素：[1, 2, 3, "Python", [4,5], "new"]
  my_list[1] = 10         # 修改元素：[1, 10, 3, "Python", [4,5], "new"]
  del my_list[0]          # 删除元素：[10, 3, "Python", [4,5], "new"]
  ```

#### (3) 元组（`tuple`）

- **定义**：不可变序列，用圆括号 `()`（也可无括号，但建议用以增加可读性），元素逗号分隔

- **特性**：**不可变**（不能修改单个元素，但可重新赋值整个元组）

- **常见操作**：索引、切片、长度（`len()`）、遍历

- 示例

  python

  ```
  my_tuple = (1, 2, 3, "tuple")
  
  print(my_tuple[1])  # 2（索引）
  a, b, c, d = my_tuple  # 解包（变量数需与元组元素数一致）
  print(a)               # 1
  ```

#### (4) 字典（`dict`）

- **定义**：键值对（Key-Value）集合，用花括号 `{}`，键必须是不可变类型（如数字、字符串、元组），值可为任意类型，键唯一

- **特性**：**可变**（通过键快速访问/修改值）

- 常见操作

  - 通过键访问/修改值（`dict[key]`）
  - 添加键值对（直接赋值：`dict[new_key] = value`）
  - 删除（`del`、`pop()`）
  - 检查键是否存在（`key in dict`）
  - 获取所有键（`keys()`）、值（`values()`）、键值对（`items()`）

- 示例

  python

  ```
  person = {"name": "Alice", "age": 25, "skills": ["Python", "JS"]}
  
  print(person["name"])      # "Alice"（通过键访问值）
  person["age"] = 26         # 修改值
  person["city"] = "Beijing" # 添加新键值对
  for key, value in person.items():
      print(f"{key}: {value}")
  # 输出：
  # name: Alice
  # age: 26
  # skills: ['Python', 'JS']
  # city: Beijing
  ```

#### (5) 集合（`set`）

- **定义**：无序、可变、元素唯一、元素需为不可变类型（如数字、字符串、元组）

- **特性**：**可变**（可增删元素），**自动去重**（元素唯一）

- 常见操作

  - 添加（`add()`）、删除（`remove()`/`discard()`）
  - 集合运算：
    - 交集（`&`）
    - 并集（`|`）
    - 差集（`-`）
    - 对称差集（`^`，即“异或”，交集外的元素）
  - 检查元素是否存在（`in`）

- 示例

  python

  ```
  my_set = {1, 2, 3, "a", "b"}
  
  my_set.add(4)          # 添加元素：{1, 2, 3, 'a', 'b', 4}
  my_set.remove(1)       # 删除元素：{2, 3, 'a', 'b', 4}
  
  set1 = {1, 2, 3}
  set2 = {2, 3, 4}
  print(set1 & set2)     # {2, 3}（交集）
  print(set1 | set2)     # {1, 2, 3, 4}（并集）

  ```
