#### 一、面向对象编程（OOP）概述

面向对象编程是一种围绕“**对象**”（数据 + 操作数据的方法）组织代码的编程范式，核心思想是将现实世界的事物抽象为对象，通过**封装、继承、多态**三大特性提升代码的复用性、可维护性和扩展性。在Python中，“一切皆对象”，类是创建对象的“模板”，实例是类的具体“实例”。

#### 二、核心概念详解

##### 1. 类与实例化

- **类（Class）**：定义对象的蓝图，包含属性（数据）和方法（行为）。

  python

  ```
  class Dog:
      # 类变量（所有实例共享）
      species = "Canis lupus familiaris"
  
      def __init__(self, name, age):  # 初始化方法（构造函数）
          # 实例变量（每个实例独立拥有）
          self.name = name
          self.age = age
  
      # 实例方法（操作实例数据）
      def bark(self):
          return f"{self.name} is barking!"
  ```

- **实例化**：根据类创建具体对象的过程。

  python

  ```
  1# 实例化Dog类
  2buddy = Dog("Buddy", 3)
  3miles = Dog("Miles", 5)
  4
  5print(buddy.bark())  # 输出: Buddy is barking!
  ```

##### 2. 类变量 vs 实例变量

- **类变量**：属于类本身，所有实例共享，通常用于记录“全局”状态（如实例数量）。

  python

  ```
  1class Dog:
  2    count = 0  # 类变量：记录狗的数量
  3
  4    def __init__(self, name):
  5        self.name = name
  6        Dog.count += 1  # 创建实例时计数+1
  7
  8print(Dog.count)  # 输出: 0（未创建实例时）
  9d1 = Dog("Buddy"); d2 = Dog("Miles")
  10print(Dog.count)  # 输出: 2
  ```

- **实例变量**：属于每个对象，存储每个实例独有的数据（如名字、年龄）。
  关键区别：类变量通过`类名.变量名`访问，实例变量通过`实例.变量名`访问。

##### 3. 私有变量与私有方法

Python通过**命名修饰**（双下划线开头）实现私有性，实际是“名称改写”（`_ClassName__variable`），避免子类意外覆盖。

- **私有变量**：在类外无法直接访问，需通过公共方法（getter/setter）操作。

- 私有方法

  ：仅在类内部调用，类外无法访问。

  python

  ```
  class BankAccount:
      def __init__(self):
          self.__balance = 0  # 私有变量
  
      def deposit(self, amount):  # 公共方法（操作私有数据）
          if amount > 0:
              self.__balance += amount
              return f"存款成功，当前余额：{self.__balance}"
          return "存款金额无效！"
  
      def __str__(self):  # 公共方法（查看私有数据）
          return f"当前余额：{self.__balance}"
  
  account = BankAccount()
  # 直接访问私有变量报错：AttributeError
  # print(account.__balance) 
  print(account.deposit(100))  # 输出: 存款成功，当前余额：100
  ```

##### 4. 封装

封装是隐藏对象内部细节，对外通过**公共接口（方法）**交互，保障数据安全。例如银行账户余额不能直接修改，必须通过存取款方法：

python

```
class BankAccount:
    def __init__(self):
        self.__balance = 0

    def get_balance(self):  # getter（获取数据）
        return self.__balance

    def set_balance(self, amount):  # setter（设置数据，可加校验）
        if amount >= 0:
            self.__balance = amount
        else:
            print("余额不能为负数！")
```

##### 5. 继承

继承允许子类继承父类的属性和方法，并添加新功能或重写父类方法，实现代码复用。

python

```
class Animal:  # 父类
    def __init__(self, name):
        self.name = name

    def eat(self):
        return f"{self.name} is eating."

class Dog(Animal):  # 子类，继承Animal
    def __init__(self, name, age):
        super().__init__(name)  # 调用父类__init__
        self.age = age

    def bark(self):  # 子类新增方法
        return f"{self.name} is barking!"

# 创建Dog实例，可调用父类和子类方法
dog = Dog("Buddy", 3)
print(dog.eat())   # 输出: Buddy is eating.（父类方法）
print(dog.bark())  # 输出: Buddy is barking!（子类方法）
```

##### 6. 多态

多态允许不同类的对象对同一消息（方法调用）做出不同响应，通常通过继承和方法重写实现。

python

```
class Shape:  # 父类
    def area(self):
        return "Not implemented"

class Rectangle(Shape):  # 子类1
    def __init__(self, width, height):
        self.width = width
        self.height = height

    def area(self):  # 重写父类方法
        return self.width * self.height

class Circle(Shape):  # 子类2
    def __init__(self, radius):
        self.radius = radius

    def area(self):  # 重写父类方法
        return 3.14 * self.radius ** 2

# 多态应用：统一调用area方法，不同对象返回不同结果
shapes = [Rectangle(5, 3), Circle(2)]
for shape in shapes:
    print(shape.area())  # 输出: 15 → 12.56
```

#### 三、总结

面向对象编程通过**类与实例**组织代码，利用**封装**隐藏细节、**继承**复用代码、**多态**提升灵活性。